<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>升級與技能管理</title>
  <style>
    body { font-family: sans-serif; padding: 20px; padding-top: 60px; }
    .flex-row { display: flex; gap: 40px; align-items: flex-start; }
    .stat-block, .skill-block { border: 1px solid #ccc; padding: 1em; border-radius: 8px; }
    .counter { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; }
    .counter button { width: 30px; height: 30px; }
    .skill-entry { border-bottom: 1px solid #ddd; padding: 10px 0; }
    .disabled { opacity: 0.5; pointer-events: none; }
    #log { white-space: pre-wrap; border: 1px solid #ccc; padding: 1em; margin-top: 1em; }
    #topbar {
      position: fixed; top: 0; left: 0; right: 0;
      background: #f5f5f5; padding: 10px;
      display: flex; justify-content: space-between; align-items: center;
      border-bottom: 1px solid #ccc; font-size: 0.95em;
    }
    #loadingOverlay {
      position: fixed; top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0, 0, 0, 0.5); color: white;
      font-size: 1.5em; display: none; justify-content: center;
      align-items: center; z-index: 9999;
    }
  </style>
</head>
<body>
  <div id="topbar">
    <span>👤 玩家名稱：<span id="userEmail">載入中...</span></span>
    <div>
      <button onclick="location.href='index.html'">🔙 返回主頁</button>
      <button onclick="logout()">🔓 登出</button>
    </div>
  </div>
  <div id="loadingOverlay">⏳ 載入中，請稍候...</div>

  <h1>🧠 升級與技能管理</h1>

  <div class="flex-row">
    <div class="stat-block" style="flex: 1">
      <h2>⬆️ 能力值升級</h2>
      <p>剩餘能力值點數：<span id="statPoints">?</span></p>
      <div id="baseStatsList">載入中...</div>
      <button onclick="resetStatAlloc()">重置</button>
      <button onclick="submitLevelUp()">確認升級</button>
    </div>

    <div class="skill-block" style="flex: 2">
      <h2>📘 技能升級</h2>
      <p>剩餘技能點數：<span id="skillPoints">?</span></p>
      <div id="skillsList">載入中...</div>
      <button onclick="submitSkillUpgrade()">儲存技能配置</button>
    </div>
  </div>

  <pre id="log"></pre>

  <div id="footer-placeholder"></div>
</body>
</html>
